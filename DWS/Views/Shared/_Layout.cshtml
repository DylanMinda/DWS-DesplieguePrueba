<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Asistente Médico IA</title>
    <link rel="stylesheet" href="~/css/common.css" />
    <link rel="stylesheet" href="~/css/navbar.css" />
    @await RenderSectionAsync("Styles", required: false)
</head>
<body>
    <nav class="navbar">
        <div class="navbar-content">
            <a asp-action="Welcome" class="navbar-brand">
                <svg viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 2L2 7L12 12L22 7L12 2Z" />
                    <path d="M2 17L12 22L22 17M2 12L12 17L22 12" stroke="currentColor" stroke-width="2" fill="none" />
                </svg>
                MedIQ
            </a>
            <ul class="navbar-menu">
                <li><a asp-action="Welcome" asp-controller="Home" class="navbar-link">Inicio</a></li>

                @if (User.Identity.IsAuthenticated)
                {
                    <li><a asp-action="Chat" asp-controller="Chat" class="navbar-link">Chat</a></li>
                    <li>
                        <form asp-action="Logout" asp-controller="Account" method="post" style="display:inline;">
                            <button type="submit" class="navbar-link" style="background:none; border:none; cursor:pointer;">Salir</button>
                        </form>
                    </li>
                }
                else
                {
                    <li><a asp-action="Login" asp-controller="Account" class="navbar-link">Iniciar Sesión</a></li>
                    <li><a asp-action="Register" asp-controller="Account" class="navbar-link btn-register">Registrarse</a></li>
                }
            </ul>
        </div>
    </nav>

    <main>
        @RenderBody()
    </main>

    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>